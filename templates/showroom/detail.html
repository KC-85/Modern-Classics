{% extends "base.html" %}
{% load static %}
{% load cloudinary %}

{% block title %}{{ object }}{% endblock %}

{% block content %}
<div class="container my-4">
  <h1 class="h3 fw-bold mb-3">{{ object }}</h1>

  {% if object.image %}
    {% cloudinary_url object.image width=1600 crop="scale" fetch_format="auto" quality="auto" secure=true as img_url %}
    <img src="{{ img_url }}" alt="{{ object }}" class="img-fluid mb-3" loading="lazy" decoding="async">
  {% else %}
    <img src="{% static 'images/placeholder-hero.jpg' %}" alt="{{ object }}" class="img-fluid mb-3" loading="lazy" decoding="async">
  {% endif %}

  <p><strong>Performance:</strong> {{ object.performance }}</p>
  <p><strong>Condition:</strong> {{ object.get_condition_display }}</p>

  <!-- Buy / Sign-in gate -->
  <div class="my-3">
    {% include "partials/_buy_button.html" with car=object %}
  </div>

  <h2 class="h6 mt-4">Specifications</h2>
  <pre class="bg-light p-3 rounded">{{ object.specifications }}</pre>

  <a href="{% url 'showroom:car_list' %}">‚Üê Back to list</a>
</div>
{% endblock %}
